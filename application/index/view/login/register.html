<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Jasonnet| 注册</title>
	<!-- Tell the browser to be responsive to screen width -->
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
	<!-- Bootstrap 3.3.7 -->
	<link rel="stylesheet" href="__STATIC__/bower_components/bootstrap/dist/css/bootstrap.min.css">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="__STATIC__/bower_components/font-awesome/css/font-awesome.min.css">
	<!-- Ionicons -->
	<link rel="stylesheet" href="__STATIC__/bower_components/Ionicons/css/ionicons.min.css">
	<!-- Theme style -->
	<link rel="stylesheet" href="__STATIC__/dist/css/AdminLTE.min.css">
	<!-- iCheck -->
	<link rel="stylesheet" href="__STATIC__/plugins/iCheck/square/blue.css">
</head>
<body class="hold-transition register-page">
<div class="register-box">
	<div class="register-logo">
		<a href="../../index2.html"><b>Jason</b>Net</a>
	</div>
	
	<div class="register-box-body">
		<p class="login-box-msg">注册一个新的账号</p>
		
		<form action="{{:url('index/login/createUser')}}" method="post" id="user">
			<div class="form-group has-feedback">
				<input type="text" name="phone" class="form-control" placeholder="手机号"> <span class="glyphicon glyphicon-phone form-control-feedback"></span>
			</div>
			<div class="form-group has-feedback">
				<input type="text" name="username" class="form-control" placeholder="用户名"> <span class="glyphicon glyphicon-user form-control-feedback"></span>
			</div>
			<div class="form-group has-feedback">
				<input type="email" name="email" class="form-control" placeholder="邮箱"> <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
			</div>
			<div class="form-group has-feedback">
				<input type="password" name="password" class="form-control" placeholder="密码"> <span class="glyphicon glyphicon-lock form-control-feedback"></span>
			</div>
			<div class="form-group has-feedback">
				<input type="password" name="confirm_password" class="form-control" placeholder="确认密码"> <span class="glyphicon glyphicon-log-in form-control-feedback"></span>
			</div>
			<div class="row">
				<div class="col-xs-8">
				</div>
				<!-- /.col -->
				<div class="col-xs-4">
					<button type="button" id="btn" class="btn btn-primary btn-block btn-flat">注册</button>
				</div>
				<!-- /.col -->
			</div>
		</form>
		
		<a href="{{:url('index/login/index')}}" class="text-center">已有账号,点我去登录</a>
	</div>
	<!-- /.form-box -->
</div>
<!-- /.register-box -->

<!-- jQuery 3 -->
<script src="__STATIC__/bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.3.7 -->
<script src="__STATIC__/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- iCheck -->
<script src="__STATIC__/plugins/iCheck/icheck.min.js"></script>
<!--甜心提示-->
<script src="__STATIC__/plugins/sweetalter/sweetalert.min.js"></script>
<script>
    $(function () {
        Main.validateUser();
        $('input').iCheck({
            checkboxClass: 'icheckbox_square-blue',
            radioClass: 'iradio_square-blue',
            increaseArea: '20%' /* optional */
        });
    });
    Main = {
        validateUser() {
            $('#btn').on('click', function () {
                // $('#user').submit();
                $.ajax({
                    url: "{{:url('createUser')}}",
                    data: $('#user').serializeArray(),
                    type: 'post',
                    dataType: 'json',
                    success: function (info) {
                        if (info.flag === true) {
                            swal("操作成功！", info.msg, "success").then(function () {
                                window.location.href = info.url;
                            });
                        } else {
                            swal("WTF,失败了?!!", info.msg, "error");
                        }
                    },
                    error: function () {
                        swal("哎呀", "失败了失败了", "error");
                    }
                });
            })
        }
    };
</script>
</body>
</html>
